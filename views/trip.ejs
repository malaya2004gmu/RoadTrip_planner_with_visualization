<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Plan Your Trip</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <div class="container">
      <h1>Plan Your Trip</h1>

      <form action="/plan-trip" method="POST" class="main-form">
        <div class="mb-4">
          <label for="start">Start Location</label>
          <select name="start" id="start" required class="">
            <% locations.forEach(loc => { %>
            <option value="<%= loc.name %>"><%= loc.name %></option>
            <% }) %>
          </select>
        </div>

        <div class="mb-4">
          <label for="end">End Location</label>
          <select name="end" id="end" required class="">
            <% locations.forEach(loc => { %>
            <option value="<%= loc.name %>"><%= loc.name %></option>
            <% }) %>
          </select>
        </div>

        <div class="mb-4">
          <label for="round-trip" class="">
            <input
              type="checkbox"
              name="roundTrip"
              id="round-trip"
              class="mr-2"
            />
            Round Trip
          </label>
        </div>

        <button type="submit" class="submit-button">Plan Trip</button>
      </form>

      <% if (result) { %> <% if (result.path.length === 0) { %>
      <p style="color: red">
        No route found between <%= result.start %> and <%= result.end %>.
      </p>
      <% } else { %>
      <h2>Route: <%= result.path.join(' â†’ ') %></h2>
      <p>Total Distance: <%= result.distance %> km</p>
      <% } %> <% } %>

      <div class="back-link">
        <a href="/">Back to Home</a>
      </div>
    </div>
  </body>
</html>
